From 11e017336379486fb0d3dbac19c8ba050f2f59d8 Mon Sep 17 00:00:00 2001
From: Julian Greilich <j.greilich@gmx.de>
Date: Thu, 11 Sep 2025 15:11:18 +0200
Subject: a11y iOS: Do not set UIAccessibilityTraitAdjustable for ProgressBar
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

The ProgressBar does implement the ValueInterface to represent the
current progress, but the progress is readonly.

With the UIAccessibilityTraitAdjustable set, iOS would announce the
value of the ProgressBar as "adjustable" and give instruction to
swipe to change the value.

Task-number: QTBUG-139712
Pick-to: 6.10 6.9 6.8
Change-Id: Ife4ef14b2db58217c94c3cc4edb8cd69496245fa
Reviewed-by: Tor Arne Vestb√∏ <tor.arne.vestbo@qt.io>
(cherry picked from commit d6cc7562689d8a07bc933178ea367706ca38e4ac)
---
 src/plugins/platforms/ios/quiaccessibilityelement.mm | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git x/qtbase/src/plugins/platforms/ios/quiaccessibilityelement.mm y/qtbase/src/plugins/platforms/ios/quiaccessibilityelement.mm
index d388f2ab33bbb83ee2502acb2a55f277d081a568..586128912fd74cba60b4f8c26e739b4e42e4bb5c 100644
--- x/qtbase/src/plugins/platforms/ios/quiaccessibilityelement.mm
+++ y/qtbase/src/plugins/platforms/ios/quiaccessibilityelement.mm
@@ -193,7 +193,7 @@ QT_NAMESPACE_ALIAS_OBJC_CLASS(QMacAccessibilityElement);
         traits |= UIAccessibilityTraitStaticText;
     }
 
-    if (iface->valueInterface())
+    if (iface->valueInterface() && iface->role() != QAccessible::ProgressBar)
         traits |= UIAccessibilityTraitAdjustable;
 
     return traits;
